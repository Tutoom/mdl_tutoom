define("mod_tutoom/activity",["exports","./meeting","./recording"],(function(_exports,_meeting,_recording){function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,M.mod_tutoom=M.mod_tutoom||{};_exports.init=function(params){window.tutoom=params;var _ref,showRecordings=params.showRecordings;document.addEventListener("click",(_ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(e){var elementName,elementId,currentPage,_currentPage,page;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(elementName=e.target.name,!(elementId=e.target.id)){_context.next=25;break}if("tutoom-start-button"===elementId&&(0,_meeting.startMeeting)(e),"tutoom-end-button"===elementId&&(0,_meeting.endMeeting)(e),"tutoom-join-button"===elementId&&(0,_meeting.joinMeeting)(e),"tutoom-refresh-main-section"===elementId&&(0,_meeting.clearMainSection)(e),"tutoom-recordings-btn-previous"!==elementId){_context.next=16;break}if(!e.target.className.includes("disabled")){_context.next=13;break}e.preventDefault(),_context.next=16;break;case 13:return currentPage=document.getElementById("tutoom-recordings-current-page").value,_context.next=16,(0,_recording.getRecordings)({page:parseInt(currentPage)-1});case 16:if("tutoom-recordings-btn-next"!==elementId){_context.next=25;break}if(!e.target.className.includes("disabled")){_context.next=22;break}e.preventDefault(),_context.next=25;break;case 22:return _currentPage=document.getElementById("tutoom-recordings-current-page").value,_context.next=25,(0,_recording.getRecordings)({page:parseInt(_currentPage)+1});case 25:if(!elementName){_context.next=34;break}if("btn-page"!==elementName){_context.next=34;break}if(page=parseInt(e.target.value),parseInt(document.getElementById("tutoom-recordings-current-page").value)!==page){_context.next=32;break}return e.preventDefault(),_context.abrupt("return");case 32:return _context.next=34,(0,_recording.getRecordings)({page:page});case 34:case"end":return _context.stop()}}),_callee)}))),function(_x){return _ref.apply(this,arguments)})),setTimeout(_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!showRecordings){_context2.next=5;break}if(!(params.countRecordings>0)){_context2.next=5;break}return _context2.next=5,(0,_recording.getRecordings)({page:1,isFirstTime:!0});case 5:case"end":return _context2.stop()}}),_callee2)}))),1)}}));

//# sourceMappingURL=activity.min.js.map